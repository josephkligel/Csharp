<ul class="list-unstyled">
	<RepeaterComponent Items="this.servers">
		<Row Context="server">
			<ServerComponent Server="server">

			</ServerComponent>
		</Row>
	</RepeaterComponent>
</ul>

@code {

	[Parameter]
	public string? CityName { get; set; }

	[Parameter]
	public string serverFilter { get; set; } = "";

	public List<Server>? servers;

	protected override void OnParametersSet()
	{
		base.OnParametersSet();
		if (string.IsNullOrEmpty(serverFilter))
		{
			servers = ServerRepository.GetServersByCity(CityName ?? "Toronto");
		}

		else
		{
			servers = ServerRepository.SearchServers(serverFilter);
		}

	}

}
